<div class="col-8">
    <div *ngIf="order">
        <h2><span>Order</span> {{ order.orderId }}</h2>

        <p-fieldset legend="Order ID" [toggleable]="true">
            <span>{{ order.orderId }}</span>
        </p-fieldset>

        <p-fieldset legend="Client" [toggleable]="true">
            <span>{{ order.orderClient.clientName }}</span>
        </p-fieldset>

        <p-fieldset legend="Planification" [toggleable]="true">
            <span>{{ order.planification.planificationId }}</span>
        </p-fieldset>

        <p-fieldset legend="Table" [toggleable]="true">
            <span>{{ order.planification.actualTable.tableId }}</span>
        </p-fieldset>

        <p-fieldset legend="Total price" [toggleable]="true">
            <span>{{ order.totalPrice }} RON</span>
        </p-fieldset>

        <p-fieldset legend="Order time" [toggleable]="true">
            <span>{{ order.orderTime | date:'short' }}</span>
        </p-fieldset>

        <p-fieldset legend="Status" [toggleable]="true">
            <span>{{ order.orderStatus }}</span>
        </p-fieldset>

        <p-fieldset legend="Comments" [toggleable]="true">
            <span>{{ order.comments }}</span>
        </p-fieldset>

        <p-fieldset legend="Dishes" [toggleable]="true">
            <p-table [value]="order.dishList">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Image</th>
                        <th pSortableColumn="name">Name<p-sortIcon field="name"></p-sortIcon></th>
                        <th>Category</th>
                        <th pSortableColumn="price">Price<p-sortIcon field="price"></p-sortIcon></th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-dish let-index="rowIndex">
                    <tr>
                        <td> <img src="{{ dish.imageUrl }}"/></td>
                        <td> {{ dish.dishName }} </td>
                        <td> {{ dish.category }} </td>
                        <td> {{ dish.price }} lei </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage" let-columns>
                    <tr>
                      <td [attr.colspan]=4>
                         No records found
                      </td>
                    </tr>
                  </ng-template>
            </p-table>
        </p-fieldset>


        <button pButton type="submit"
                (click)="back()"
                label="Back"
                icon="pi pi-arrow-left"
                class="btn btn-info">
        </button>

        <button pButton type="button"
                [routerLink]="['/order', order.orderId, 'edit']"
                label="Edit"
                icon="pi pi-pencil"
                class="btn btn-primary">
        </button>
    </div>
</div>